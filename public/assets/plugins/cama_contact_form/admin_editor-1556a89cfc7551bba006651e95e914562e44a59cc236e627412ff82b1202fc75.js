(function(){$(function(){var a,t;return t=$("#contact_form_editor"),(a=t.find("#my_fields")).sortable({handle:".panel-sortable"}),t.find("#fields_available a").click(function(){return showLoading(),a.attr("data-cid",parseInt(a.attr("data-cid"))+1),$.get(t.find("#fields_available").attr("data-remote_url"),{kind:$(this).attr("data-field-type"),cid:"c"+a.attr("data-cid")},function(t){return t=$(t),a.append(t),t.find(".options_sortable").sortable({handle:".options-sortable"}),t.find(".add_option").click().click(),t.find(".translatable").Translatable(ADMIN_TRANSLATIONS),hideLoading()}),!1}),t.on("click",".add_option",function(){var t,a;return(a=$(this).prev("ul")).attr("data-options-count",parseInt(a.attr("data-options-count"))+1),(t=a.children().first().clone().removeClass("hidden")).find("input").prop("disabled",!1).each(function(){return $(this).attr("name",$(this).attr("name").replace("[0]","["+a.attr("data-options-count")+"]"))}),a.append(t),t.find(".translatable").Translatable(ADMIN_TRANSLATIONS),!1}),t.on("click",".option-delete",function(){return $(this).closest("li").remove(),!1}),t.on("click",".panel-delete",function(){return $(this).closest("li.panel").fadeOut("slow",function(){return $(this).remove()}),!1}),t.on("click",".html_btn",function(){return $(this).hide().next().hide().removeClass("hidden").fadeIn(),!1}),a.find(".options_sortable").sortable({handle:".options-sortable"}),t.find(".translatable").Translatable(ADMIN_TRANSLATIONS)})}).call(this);