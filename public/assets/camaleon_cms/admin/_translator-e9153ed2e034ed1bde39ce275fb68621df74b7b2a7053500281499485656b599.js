jQuery(function(h){var u=1;h.fn.Translatable=function(p,t){p=p||ADMIN_TRANSLATIONS,t=t||p[0];var a=h(this).not(".translated-item, .translate-item");return get_translations=function(t,a){var e={},n="";if(t&&0==t.trim().search("<!--")){var i=t.split("<!--:-->");for(var r in i){var s=i[r],l=s.trim().match(/^<!--:([\w||-]{2,5})/);l&&2==l.length&&(l[1]=l[1].replace("--",""),e[l[1]]=s.replace("<!--:"+l[1]+"-->",""))}n=e}else{for(var r in p)e[p[r]]=t;n=e}return a?get_translation(n,a):n},get_translation=function(t,a){return a in t?t[a]:p[0]in t?t[p[0]]:""},p.length<2?a.each(function(){h(this).val(get_translations(h(this).val(),p[0]))}):a.each(function(){var e=h(this),t=[],a=[],n=get_translations(e.is("select")?e.data("value"):e.val()),i={},r=e.parent().hasClass("form-group")?"":"form-group";for(var s in p){var l=p[s],o="translation-"+l+"-"+u;t.push('<li role="presentation" class="pull-right '+(0==s?"active":"")+'"><a href="#pane-'+o+'" role="tab" data-toggle="tab">'+l.titleize()+"</a></li>");var c=e.clone(!0).attr({id:o,name:o,"data-name":o,"data-translation_l":l,"data-translation":"translation-"+l}).addClass("translate-item").val(get_translation(n,l));0<s&&!c.hasClass("required_all_langs")&&c.removeClass("required"),(i[l]=c).wrap("<div class='tab-pane "+r+" trans_tab_item "+(0==s?"active":"")+"' id='pane-"+o+"'/>"),a.push(c.parent()),u++,c.bind("change change_in",function(){var t=[];for(var a in i)t.push("<!--:"+a+"-->"+i[a].val()+"<!--:-->");e.val(t.join("")),"object"==typeof tinymce&&e.is("textarea")&&e.attr("id")&&tinymce.get(e.attr("id"))&&tinymce.get(e.attr("id")).setContent(t.join(""))})}var v=h('<div class="trans_panel" role="tabpanel"><ul class="nav nav-tabs" role="tablist"></ul><div class="tab-content"></div></div>');if(v.find(".nav-tabs").append(t.reverse()),v.find(".tab-content").append(a),e.is("select")){var d=h('<input type="hidden">').attr({"class":e.attr("class"),name:e.attr("name")});e.replaceWith(d),e=d,a[0].find(".translate-item").trigger("change")}e.addClass("translated-item").hide().after(v),e.data("translation_inputs",i),e.bind("trans_integrate",function(){var t=[];for(var a in i)t.push("<!--:"+a+"-->"+i[a].val()+"<!--:-->");e.show().val(t.join("")),"object"==typeof tinymce&&e.is("textarea")&&e.attr("id")&&tinymce.get(e.attr("id"))&&tinymce.get(e.attr("id")).setContent(t.join("")),v.remove(),h(this).removeClass("translated-item")})}),this}});